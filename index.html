<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>Void Sentinel: God Mode Edition</title>
    <style>
        body { margin: 0; overflow: hidden; background: #010105; cursor: none; }
        #game-ui {
            position: absolute; top: 40px; left: 40px;
            font-family: 'Orbitron', sans-serif; color: #0ff;
            text-shadow: 0 0 15px #0ff;
        }
    </style>
</head>
<body>

<div id="game-ui">
    <div style="font-size: 32px;">VOID_SENTINEL_MK2</div>
    <div style="font-size: 14px; color: #f0f;">STATUS: OVERCHARGED</div>
</div>

<canvas id="canvas"></canvas>

<script>
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
let w = canvas.width = window.innerWidth;
let h = canvas.height = window.innerHeight;

let frame = 0;
const keys = {};

const sentinel = {
    x: w/2, y: h-200, vx: 0, vy: 0,
    dir: 1, isJumping: false,
    corePulse: 0,
    swords: [0, Math.PI/2, Math.PI, Math.PI*1.5] // زوايا السيوف الـ 4
};

// --- رسم سيف نيون متطور ---
function drawNeonBlade(x, y, angle, length, color) {
    ctx.save();
    ctx.translate(x, y);
    ctx.rotate(angle);
    
    // التوهج (Bloom)
    ctx.shadowBlur = 20;
    ctx.shadowColor = color;
    ctx.strokeStyle = color;
    ctx.lineWidth = 4;
    ctx.lineCap = "round";
    
    ctx.beginPath();
    ctx.moveTo(0, 0);
    ctx.lineTo(length, 0);
    ctx.stroke();
    
    // النصل الداخلي (White Core)
    ctx.strokeStyle = "#fff";
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(5, 0);
    ctx.lineTo(length - 5, 0);
    ctx.stroke();
    
    ctx.restore();
}

// --- رسم الشخصية الخارقة ---
function drawSentinel() {
    ctx.save();
    ctx.translate(sentinel.x, sentinel.y);
    
    sentinel.corePulse = Math.sin(frame * 0.1) * 5;
    let jumpStretch = sentinel.vy * 0.15;
    ctx.scale(sentinel.dir, 1);

    // 1. العباءة الديناميكية (Dynamic Cape)
    ctx.fillStyle = "#0a0a0f";
    ctx.beginPath();
    ctx.moveTo(-30, 0);
    for(let i=0; i<=10; i++) {
        let cx = -30 + i * 6;
        let cy = 80 + Math.sin(frame*0.15 + i*0.5)*15 + Math.abs(sentinel.vx)*5;
        ctx.lineTo(cx, cy);
    }
    ctx.lineTo(30, 0);
    ctx.fill();

    // 2. الدروع والجسد (Cyber-Hollow Body)
    ctx.fillStyle = "#111";
    ctx.beginPath();
    ctx.ellipse(0, 20, 20, 35 + jumpStretch, 0, 0, Math.PI*2);
    ctx.fill();
    
    // النواة المضيئة (The Core)
    ctx.shadowBlur = 15 + sentinel.corePulse;
    ctx.shadowColor = "#0ff";
    ctx.fillStyle = "#0ff";
    ctx.beginPath();
    ctx.arc(0, 15, 8 + sentinel.corePulse/2, 0, Math.PI*2);
    ctx.fill();

    // 3. السيوف الأربعة (Orbital Blades)
    sentinel.swords.forEach((angle, i) => {
        let orbitX = Math.cos(angle + frame*0.05) * 60;
        let orbitY = Math.sin(angle + frame*0.05) * 60 + 20;
        drawNeonBlade(orbitX, orbitY, angle + frame*0.2, 50, i % 2 === 0 ? "#0ff" : "#f0f");
    });

    // 4. القناع المتطور (Sentinel Mask)
    ctx.shadowBlur = 0;
    ctx.fillStyle = "#eee";
    ctx.beginPath();
    // شكل رأس هندسي أكثر هيبة
    ctx.moveTo(-25, -20);
    ctx.lineTo(0, -55);
    ctx.lineTo(25, -20);
    ctx.lineTo(15, 15);
    ctx.lineTo(-15, 15);
    ctx.closePath();
    ctx.fill();

    // القرون الحادة
    ctx.beginPath();
    ctx.moveTo(-15, -40); ctx.lineTo(-35, -80); ctx.lineTo(-5, -50);
    ctx.moveTo(15, -40); ctx.lineTo(35, -80); ctx.lineTo(5, -50);
    ctx.fill();

    // العيون النيون (Neon Visor)
    ctx.fillStyle = "#000";
    ctx.beginPath();
    ctx.ellipse(-10, -25, 6, 12, 0.2, 0, Math.PI*2);
    ctx.ellipse(10, -25, 6, 12, -0.2, 0, Math.PI*2);
    ctx.fill();
    
    ctx.fillStyle = "#0ff";
    ctx.shadowBlur = 10;
    ctx.shadowColor = "#0ff";
    ctx.fillRect(-12, -26, 8, 2);
    ctx.fillRect(4, -26, 8, 2);

    ctx.restore();
}

function drawBackground() {
    // شبكة أرضية نيون (Cyber Grid)
    ctx.strokeStyle = "rgba(0, 255, 255, 0.1)";
    ctx.lineWidth = 1;
    for(let i=0; i<w; i+=100) {
        ctx.beginPath(); ctx.moveTo(i - (sentinel.x*0.5 % 100), h-150); ctx.lineTo(i - (sentinel.x*0.5 % 100), h); ctx.stroke();
    }
    
    // جزيئات طائرة (Floating Ash)
    ctx.fillStyle = "rgba(255, 255, 255, 0.2)";
    for(let i=0; i<30; i++) {
        let px = (Math.sin(i*99) * w + frame) % w;
        let py = (Math.cos(i*99) * h) % h;
        ctx.fillRect(px, py, 2, 2);
    }
}

function loop() {
    ctx.fillStyle = "#010108";
    ctx.fillRect(0, 0, w, h);

    drawBackground();
    
    // إضاءة عامة حول الشخصية
    let g = ctx.createRadialGradient(sentinel.x, sentinel.y, 0, sentinel.x, sentinel.y, 400);
    g.addColorStop(0, "rgba(0, 255, 255, 0.05)");
    g.addColorStop(1, "transparent");
    ctx.fillStyle = g;
    ctx.fillRect(0,0,w,h);

    drawSentinel();

    // الفيزياء
    sentinel.vy += 0.8;
    sentinel.y += sentinel.vy;
    sentinel.x += sentinel.vx;

    if(sentinel.y > h - 180) { sentinel.y = h - 180; sentinel.vy = 0; sentinel.isJumping = false; }

    if(keys.ArrowRight || keys.KeyD) { sentinel.vx = 8; sentinel.dir = 1; }
    else if(keys.ArrowLeft || keys.KeyA) { sentinel.vx = -8; sentinel.dir = -1; }
    else { sentinel.vx *= 0.8; }

    frame++;
    requestAnimationFrame(loop);
}

window.onkeydown = e => {
    keys[e.code] = true;
    if(e.code === 'Space' && !sentinel.isJumping) { sentinel.vy = -20; sentinel.isJumping = true; }
};
window.onkeyup = e => keys[e.code] = false;

loop();
</script>
</body>
</html>
